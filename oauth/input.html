<html>
<head>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>
    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'>
    <link rel='stylesheet' href='https://unpkg.com/formiojs@latest/dist/formio.full.min.css'>
    <script src='https://unpkg.com/formiojs@latest/dist/formio.full.min.js'></script>
    <script type='text/javascript'>
      window.onload = function() {
        var form = document.getElementById('formio');

        Formio.createForm(form, {
          components: [
            {
              type: 'textfield',
              key: 'Name',
              label: 'Name of the resource owner (optional):',
              placeholder: 'Ressource owner',
              input: true
            },
            {
              type: 'email',
              key: 'Email',
              label: 'Email of the resource owner (optional):',
              placeholder: 'ressource.owner@example.com',
              input: true
            },
            {
              type: 'textfield',
              key: 'Sciper:',
              label: 'EPFL sciper nb',
              placeholder: '999999',
              input: true
            },
            {
              type: 'textfield',
              key: 'Username:',
              label: 'EPFL username',
              placeholder: 'GASPAR username',
              input: true
            },
          ]
        })
      };
    </script>
    <title>Fake Google OAuth2 (and maybe other services)</title>
</head>
<body>
<div class="container-fluid">
    <div class="row">
        <div class="col-lg-3"></div>
        <div class="col-lg-6">

            <h1>Fake OAuth2 Server</h1>
            <h2>Request parameters:</h2>
            <table class="table table-striped">
                <% _.each(query, (val, name) => { %>
                    <tr>
                        <td><%- name %></td>
                        <td><%- val %></td>
                    </tr>
                <% }); %>
            </table>
            <h2>Create token & grant access</h2>
            <form action="/login-as">
              <div id="formio">
              </div>
              <input type="submit" value="generate token"/>
            </form>
            <!--form action="/login-as">
                <div class="form-group">
                    <label for="name">Name of the resource owner (optional): </label>
                    <input name="name" id="name" class="form-control" />
                </div>
                <div class="form-group">
                    <label for="email">Email of the resource owner (optional): </label>
                    <input type="email" class="form-control" placeholder="you@gmail.com"
                           name="email" id="email"/>
                    <p class="help-block">Enter the email address of the person you want to impersonate.</p>
                </div>
                <div class="form-group">
                    <label for="expires_in">Token expiry (in seconds): </label>
                    <input type="text" class="form-control" value="3600" name="expires_in" id="expires_in"/>
                </div>
                <input type="submit" value="generate token"/>
            </form-->
        </div>
        <div class="col-lg-3"></div>
    </div>
</div>
</body>
<html>
